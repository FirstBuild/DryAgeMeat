/*******************************************************************************
* File Name: Thermistor.c
* Version 1.20
*
* Description:
*  This file provides the source code to the API for the ThermistorCalc
*  Component.
*
* Note:
*  None.
*
********************************************************************************
* Copyright 2013, Cypress Semiconductor Corporation.  All rights reserved.
* You may use this file only in accordance with the license, terms, conditions,
* disclaimers, and limitations in the end user license agreement accompanying
* the software package with which this file was provided.
*******************************************************************************/

#include "Thermistor.h"


/*******************************************************************************
* Function Name: Thermistor_GetResistance
********************************************************************************
*
* Summary:
*  The digital values of the voltages across the reference resistor and the
*  thermistor are passed to this function as parameters. The function returns
*  the resistance, based on the voltage values.
*
* Parameters:
*  vReference: the voltage across the reference resistor;
*  vThermistor: the voltage across the thermistor.
*  The ratio of these two voltages is used by this function. Therefore, the
*  units for both parameters must be the same.
*
* Return:
*  The return value is the resistance across the thermistor. The value returned
*  is the resistance in Ohms.
*
*******************************************************************************/
uint32 Thermistor_GetResistance(int16 vReference, int16 vThermistor)
                                      
{
    int32 resT;
    int16 temp;

    /* Calculate thermistor resistance from the voltages */
    resT = Thermistor_REF_RESISTOR * ((int32)vThermistor);
    if (vReference < 0)
    {
        temp = -vReference;
        temp = (int16)((uint16)((uint16)temp >> 1u));
        temp = -temp;
    }
    else
    {
        temp = (int16)((uint16)((uint16)vReference >> 1u));
    }
    resT += temp;
    resT /= vReference;

    /* The ordering of Reference resistor value is specifically designed to keep the result from overflowing */
    return ((uint32)((uint32)resT << Thermistor_REF_RES_SHIFT));
}


/*******************************************************************************
* Function Name: Thermistor_GetTemperature
********************************************************************************
*
* Summary:
*  The value of the thermistor resistance is passed to this function as a
*  parameter. The function returns the temperature, based on the resistance
*  value. The method used to calculate the temperature is dependent on whether
*  Equation or LUT was selected in the Customizer.
*
* Parameters:
*  resT: the resistance across the thermistor in Ohms.
*
* Return:
*  The return value is the temperature in 1/100ths of degrees C. For example,
*  the return value is 2345, when the actual temperature is 23.45 degrees C.
*
*******************************************************************************/
int16 Thermistor_GetTemperature(uint32 resT) 
{
    int16 tempTR;
    static const uint32 CYCODE Thermistor_LUT[] = { 68237u, 68072u, 67907u, 67742u, 67578u, 67414u, 67251u, 67089u, 66926u,
 66764u, 66603u, 66442u, 66282u, 66122u, 65962u, 65803u, 65644u, 65486u, 65328u, 65170u, 65013u, 64856u, 64700u, 64544u,
 64389u, 64234u, 64080u, 63925u, 63772u, 63618u, 63466u, 63313u, 63161u, 63009u, 62858u, 62707u, 62557u, 62407u, 62257u,
 62108u, 61959u, 61811u, 61663u, 61516u, 61368u, 61222u, 61075u, 60929u, 60784u, 60638u, 60494u, 60349u, 60205u, 60061u,
 59918u, 59775u, 59633u, 59491u, 59349u, 59207u, 59066u, 58926u, 58786u, 58646u, 58506u, 58367u, 58228u, 58090u, 57952u,
 57814u, 57677u, 57540u, 57404u, 57268u, 57132u, 56996u, 56861u, 56727u, 56592u, 56458u, 56325u, 56191u, 56058u, 55926u,
 55794u, 55662u, 55530u, 55399u, 55268u, 55138u, 55008u, 54878u, 54749u, 54620u, 54491u, 54362u, 54234u, 54107u, 53979u,
 53852u, 53725u, 53599u, 53473u, 53347u, 53222u, 53097u, 52972u, 52848u, 52724u, 52600u, 52477u, 52354u, 52231u, 52109u,
 51986u, 51865u, 51743u, 51622u, 51501u, 51381u, 51261u, 51141u, 51021u, 50902u, 50783u, 50665u, 50546u, 50428u, 50311u,
 50193u, 50076u, 49960u, 49843u, 49727u, 49611u, 49496u, 49380u, 49266u, 49151u, 49037u, 48923u, 48809u, 48696u, 48582u,
 48470u, 48357u, 48245u, 48133u, 48021u, 47910u, 47799u, 47688u, 47578u, 47468u, 47358u, 47248u, 47139u, 47030u, 46921u,
 46812u, 46704u, 46596u, 46489u, 46381u, 46274u, 46168u, 46061u, 45955u, 45849u, 45743u, 45638u, 45533u, 45428u, 45323u,
 45219u, 45115u, 45011u, 44908u, 44804u, 44701u, 44599u, 44496u, 44394u, 44292u, 44191u, 44089u, 43988u, 43887u, 43787u,
 43686u, 43586u, 43486u, 43387u, 43288u, 43189u, 43090u, 42991u, 42893u, 42795u, 42697u, 42600u, 42502u, 42405u, 42309u,
 42212u, 42116u, 42020u, 41924u, 41829u, 41733u, 41638u, 41544u, 41449u, 41355u, 41261u, 41167u, 41073u, 40980u, 40887u,
 40794u, 40701u, 40609u, 40517u, 40425u, 40333u, 40242u, 40151u, 40060u, 39969u, 39878u, 39788u, 39698u, 39608u, 39519u,
 39429u, 39340u, 39251u, 39163u, 39074u, 38986u, 38898u, 38810u, 38723u, 38635u, 38548u, 38461u, 38375u, 38288u, 38202u,
 38116u, 38030u, 37945u, 37859u, 37774u, 37689u, 37605u, 37520u, 37436u, 37352u, 37268u, 37184u, 37101u, 37018u, 36935u,
 36852u, 36769u, 36687u, 36605u, 36523u, 36441u, 36360u, 36278u, 36197u, 36116u, 36036u, 35955u, 35875u, 35795u, 35715u,
 35635u, 35556u, 35476u, 35397u, 35318u, 35240u, 35161u, 35083u, 35005u, 34927u, 34849u, 34772u, 34694u, 34617u, 34540u,
 34464u, 34387u, 34311u, 34235u, 34159u, 34083u, 34007u, 33932u, 33857u, 33782u, 33707u, 33632u, 33558u, 33483u, 33409u,
 33335u, 33262u, 33188u, 33115u, 33042u, 32969u, 32896u, 32823u, 32751u, 32679u, 32607u, 32535u, 32463u, 32391u, 32320u,
 32249u, 32178u, 32107u, 32036u, 31966u, 31896u, 31826u, 31756u, 31686u, 31616u, 31547u, 31478u, 31409u, 31340u, 31271u,
 31202u, 31134u, 31066u, 30998u, 30930u, 30862u, 30794u, 30727u, 30660u, 30593u, 30526u, 30459u, 30393u, 30326u, 30260u,
 30194u, 30128u, 30062u, 29997u, 29931u, 29866u, 29801u, 29736u, 29671u, 29607u, 29542u, 29478u, 29414u, 29350u, 29286u,
 29222u, 29159u, 29096u, 29032u, 28969u, 28907u, 28844u, 28781u, 28719u, 28657u, 28594u, 28532u, 28471u, 28409u, 28348u,
 28286u, 28225u, 28164u, 28103u, 28042u, 27982u, 27921u, 27861u, 27801u, 27741u, 27681u, 27621u, 27562u, 27502u, 27443u,
 27384u, 27325u, 27266u, 27207u, 27149u, 27090u, 27032u, 26974u, 26916u, 26858u, 26800u, 26743u, 26685u, 26628u, 26571u,
 26514u, 26457u, 26400u, 26344u, 26287u, 26231u, 26175u, 26119u, 26063u, 26007u, 25951u, 25896u, 25840u, 25785u, 25730u,
 25675u, 25620u, 25566u, 25511u, 25457u, 25402u, 25348u, 25294u, 25240u, 25186u, 25133u, 25079u, 25026u, 24973u, 24919u,
 24866u, 24814u, 24761u, 24708u, 24656u, 24603u, 24551u, 24499u, 24447u, 24395u, 24343u, 24292u, 24240u, 24189u, 24138u,
 24087u, 24036u, 23985u, 23934u, 23883u, 23833u, 23782u, 23732u, 23682u, 23632u, 23582u, 23532u, 23483u, 23433u, 23384u,
 23334u, 23285u, 23236u, 23187u, 23138u, 23089u, 23041u, 22992u, 22944u, 22896u, 22848u, 22800u, 22752u, 22704u, 22656u,
 22609u, 22561u, 22514u, 22466u, 22419u, 22372u, 22325u, 22279u, 22232u, 22185u, 22139u, 22093u, 22046u, 22000u, 21954u,
 21908u, 21863u, 21817u, 21771u, 21726u, 21680u, 21635u, 21590u, 21545u, 21500u, 21455u, 21411u, 21366u, 21321u, 21277u,
 21233u, 21189u, 21144u, 21100u, 21057u, 21013u, 20969u, 20926u, 20882u, 20839u, 20795u, 20752u, 20709u, 20666u, 20623u,
 20581u, 20538u, 20495u, 20453u, 20411u, 20368u, 20326u, 20284u, 20242u, 20200u, 20159u, 20117u, 20075u, 20034u, 19993u,
 19951u, 19910u, 19869u, 19828u, 19787u, 19746u, 19706u, 19665u, 19625u, 19584u, 19544u, 19504u, 19464u, 19423u, 19384u,
 19344u, 19304u, 19264u, 19225u, 19185u, 19146u, 19107u, 19067u, 19028u, 18989u, 18950u, 18912u, 18873u, 18834u, 18796u,
 18757u, 18719u, 18680u, 18642u, 18604u, 18566u, 18528u, 18490u, 18453u, 18415u, 18377u, 18340u, 18302u, 18265u, 18228u,
 18191u, 18154u, 18117u, 18080u, 18043u, 18006u, 17970u, 17933u, 17896u, 17860u, 17824u, 17788u, 17751u, 17715u, 17679u,
 17644u, 17608u, 17572u, 17536u, 17501u, 17465u, 17430u, 17395u, 17359u, 17324u, 17289u, 17254u, 17219u, 17185u, 17150u,
 17115u, 17081u, 17046u, 17012u, 16977u, 16943u, 16909u, 16875u, 16841u, 16807u, 16773u, 16739u, 16705u, 16672u, 16638u,
 16605u, 16571u, 16538u, 16505u, 16472u, 16438u, 16405u, 16372u, 16340u, 16307u, 16274u, 16241u, 16209u, 16176u, 16144u,
 16112u, 16079u, 16047u, 16015u, 15983u, 15951u, 15919u, 15887u, 15855u, 15824u, 15792u, 15760u, 15729u, 15698u, 15666u,
 15635u, 15604u, 15573u, 15542u, 15511u, 15480u, 15449u, 15418u, 15387u, 15357u, 15326u, 15296u, 15265u, 15235u, 15205u,
 15174u, 15144u, 15114u, 15084u, 15054u, 15024u, 14995u, 14965u, 14935u, 14906u, 14876u, 14847u, 14817u, 14788u, 14759u,
 14729u, 14700u, 14671u, 14642u, 14613u, 14584u, 14555u, 14527u, 14498u, 14469u, 14441u, 14412u, 14384u, 14356u, 14327u,
 14299u, 14271u, 14243u, 14215u, 14187u, 14159u, 14131u, 14103u, 14075u, 14048u, 14020u, 13993u, 13965u, 13938u, 13910u,
 13883u, 13856u, 13829u, 13801u, 13774u, 13747u, 13720u, 13694u, 13667u, 13640u, 13613u, 13587u, 13560u, 13534u, 13507u,
 13481u, 13454u, 13428u, 13402u, 13376u, 13350u, 13324u, 13298u, 13272u, 13246u, 13220u, 13194u, 13168u, 13143u, 13117u,
 13092u, 13066u, 13041u, 13015u, 12990u, 12965u, 12940u, 12915u, 12890u, 12864u, 12840u, 12815u, 12790u, 12765u, 12740u,
 12715u, 12691u, 12666u, 12642u, 12617u, 12593u, 12568u, 12544u, 12520u, 12496u, 12472u, 12447u, 12423u, 12399u, 12375u,
 12352u, 12328u, 12304u, 12280u, 12257u, 12233u, 12209u, 12186u, 12162u, 12139u, 12116u, 12092u, 12069u, 12046u, 12023u,
 11999u, 11976u, 11953u, 11930u, 11908u, 11885u, 11862u, 11839u, 11816u, 11794u, 11771u, 11749u, 11726u, 11704u, 11681u,
 11659u, 11637u, 11614u, 11592u, 11570u, 11548u, 11526u, 11504u, 11482u, 11460u, 11438u, 11416u, 11394u, 11373u, 11351u,
 11329u, 11308u, 11286u, 11265u, 11243u, 11222u, 11200u, 11179u, 11158u, 11137u, 11115u, 11094u, 11073u, 11052u, 11031u,
 11010u, 10989u, 10968u, 10948u, 10927u, 10906u, 10885u, 10865u, 10844u, 10824u, 10803u, 10783u, 10762u, 10742u, 10722u,
 10701u, 10681u, 10661u, 10641u, 10621u, 10601u, 10581u, 10561u, 10541u, 10521u, 10501u, 10481u, 10462u, 10442u, 10422u,
 10403u, 10383u, 10363u, 10344u, 10324u, 10305u, 10286u, 10266u, 10247u, 10228u, 10209u, 10189u, 10170u, 10151u, 10132u,
 10113u, 10094u, 10075u, 10056u, 10038u, 10019u, 10000u, 9981u, 9963u, 9944u, 9925u, 9907u, 9888u, 9870u, 9851u, 9833u,
 9815u, 9796u, 9778u, 9760u, 9742u, 9723u, 9705u, 9687u, 9669u, 9651u, 9633u, 9615u, 9597u, 9579u, 9562u, 9544u, 9526u,
 9508u, 9491u, 9473u, 9456u, 9438u, 9420u, 9403u, 9386u, 9368u, 9351u, 9333u, 9316u, 9299u, 9282u, 9264u, 9247u, 9230u,
 9213u, 9196u, 9179u, 9162u, 9145u, 9128u, 9111u, 9095u, 9078u, 9061u, 9044u, 9028u, 9011u, 8994u, 8978u, 8961u, 8945u,
 8928u, 8912u, 8895u, 8879u, 8863u, 8846u, 8830u, 8814u, 8798u, 8782u, 8765u, 8749u, 8733u, 8717u, 8701u, 8685u, 8669u,
 8653u, 8638u, 8622u, 8606u, 8590u, 8575u, 8559u, 8543u, 8528u, 8512u, 8496u, 8481u, 8465u, 8450u, 8434u, 8419u, 8404u,
 8388u, 8373u, 8358u, 8343u, 8327u, 8312u, 8297u, 8282u, 8267u, 8252u, 8237u, 8222u, 8207u, 8192u, 8177u, 8162u, 8147u,
 8132u, 8118u, 8103u, 8088u, 8074u, 8059u, 8044u, 8030u, 8015u, 8001u, 7986u, 7972u, 7957u, 7943u, 7929u, 7914u, 7900u,
 7886u, 7871u, 7857u, 7843u, 7829u, 7815u, 7800u, 7786u, 7772u, 7758u, 7744u, 7730u, 7716u, 7703u, 7689u, 7675u, 7661u,
 7647u, 7633u, 7620u, 7606u, 7592u, 7579u, 7565u, 7551u, 7538u, 7524u, 7511u, 7497u, 7484u, 7471u, 7457u, 7444u, 7430u,
 7417u, 7404u, 7391u, 7377u, 7364u, 7351u, 7338u, 7325u, 7312u, 7299u, 7285u, 7272u, 7259u, 7247u, 7234u, 7221u, 7208u,
 7195u, 7182u, 7169u, 7157u, 7144u, 7131u, 7118u, 7106u, 7093u, 7080u, 7068u, 7055u, 7043u, 7030u, 7018u, 7005u, 6993u,
 6980u, 6968u, 6956u, 6943u, 6931u, 6919u, 6906u, 6894u, 6882u, 6870u, 6858u, 6845u, 6833u, 6821u, 6809u, 6797u, 6785u,
 6773u, 6761u, 6749u, 6737u, 6725u, 6714u, 6702u, 6690u, 6678u, 6666u, 6655u, 6643u, 6631u, 6619u, 6608u, 6596u, 6585u,
 6573u, 6561u, 6550u, 6538u, 6527u, 6515u, 6504u, 6492u, 6481u, 6470u, 6458u, 6447u, 6436u, 6424u, 6413u, 6402u, 6391u,
 6380u, 6368u, 6357u, 6346u, 6335u, 6324u, 6313u, 6302u, 6291u, 6280u, 6269u, 6258u, 6247u, 6236u, 6225u, 6214u, 6203u,
 6193u, 6182u, 6171u, 6160u, 6150u, 6139u, 6128u, 6118u, 6107u, 6096u, 6086u, 6075u, 6064u, 6054u, 6043u, 6033u, 6022u,
 6012u, 6002u, 5991u, 5981u, 5970u, 5960u, 5950u, 5939u, 5929u, 5919u, 5909u, 5898u, 5888u, 5878u, 5868u, 5858u, 5848u,
 5837u, 5827u, 5817u, 5807u, 5797u, 5787u, 5777u, 5767u, 5757u, 5747u, 5737u, 5728u, 5718u, 5708u, 5698u, 5688u, 5678u,
 5669u, 5659u, 5649u, 5639u, 5630u, 5620u, 5610u, 5601u, 5591u, 5582u, 5572u, 5562u, 5553u, 5543u, 5534u, 5524u, 5515u,
 5506u, 5496u, 5487u, 5477u, 5468u, 5459u, 5449u, 5440u, 5431u, 5421u, 5412u, 5403u, 5394u, 5384u, 5375u, 5366u, 5357u,
 5348u, 5339u, 5330u, 5320u, 5311u, 5302u, 5293u, 5284u, 5275u, 5266u, 5257u, 5248u, 5240u, 5231u, 5222u, 5213u, 5204u,
 5195u, 5186u, 5178u, 5169u, 5160u, 5151u, 5143u, 5134u, 5125u, 5116u, 5108u, 5099u, 5091u, 5082u, 5073u, 5065u, 5056u,
 5048u, 5039u, 5031u, 5022u, 5014u, 5005u, 4997u, 4988u, 4980u, 4971u, 4963u, 4955u, 4946u, 4938u, 4930u, 4921u, 4913u,
 4905u, 4897u, 4888u, 4880u, 4872u, 4864u, 4856u, 4847u, 4839u, 4831u, 4823u, 4815u, 4807u, 4799u, 4791u, 4783u, 4775u,
 4767u, 4759u, 4751u, 4743u, 4735u, 4727u, 4719u, 4711u, 4703u, 4696u, 4688u, 4680u, 4672u, 4664u, 4656u, 4649u, 4641u,
 4633u, 4625u, 4618u, 4610u, 4602u, 4595u, 4587u, 4579u, 4572u, 4564u, 4557u, 4549u, 4541u, 4534u, 4526u, 4519u, 4511u,
 4504u, 4496u, 4489u, 4481u, 4474u, 4467u, 4459u, 4452u, 4444u, 4437u, 4430u, 4422u, 4415u, 4408u, 4400u, 4393u, 4386u,
 4379u, 4371u, 4364u, 4357u, 4350u, 4343u, 4335u, 4328u, 4321u, 4314u, 4307u, 4300u, 4293u, 4286u, 4279u, 4272u, 4265u,
 4258u, 4251u, 4244u, 4237u, 4230u, 4223u, 4216u, 4209u, 4202u, 4195u, 4188u, 4181u, 4174u, 4168u, 4161u, 4154u, 4147u,
 4140u, 4133u, 4127u, 4120u, 4113u, 4106u, 4100u, 4093u, 4086u, 4080u, 4073u, 4066u, 4060u, 4053u, 4046u, 4040u, 4033u,
 4027u, 4020u, 4014u, 4007u, 4000u, 3994u, 3987u, 3981u, 3974u, 3968u, 3962u, 3955u, 3949u, 3942u, 3936u, 3929u, 3923u,
 3917u, 3910u, 3904u, 3898u, 3891u, 3885u, 3879u, 3872u, 3866u, 3860u, 3854u, 3847u, 3841u, 3835u, 3829u, 3823u, 3816u,
 3810u, 3804u, 3798u, 3792u, 3786u, 3779u, 3773u, 3767u, 3761u, 3755u, 3749u, 3743u, 3737u, 3731u, 3725u, 3719u, 3713u,
 3707u, 3701u, 3695u, 3689u, 3683u, 3677u, 3671u, 3665u, 3660u, 3654u, 3648u, 3642u, 3636u, 3630u, 3624u, 3619u, 3613u,
 3607u, 3601u, 3596u, 3590u, 3584u, 3578u, 3573u, 3567u, 3561u, 3555u, 3550u, 3544u, 3538u, 3533u, 3527u, 3521u, 3516u,
 3510u, 3505u, 3499u, 3493u, 3488u, 3482u, 3477u, 3471u, 3466u, 3460u, 3455u, 3449u, 3444u, 3438u, 3433u, 3427u, 3422u,
 3416u, 3411u, 3406u, 3400u, 3395u, 3389u, 3384u, 3379u, 3373u, 3368u, 3363u, 3357u, 3352u, 3347u, 3341u, 3336u, 3331u,
 3325u, 3320u, 3315u, 3310u, 3304u, 3299u, 3294u, 3289u, 3284u, 3278u, 3273u, 3268u, 3263u, 3258u, 3253u, 3248u, 3242u,
 3237u, 3232u, 3227u, 3222u, 3217u, 3212u, 3207u, 3202u, 3197u, 3192u, 3187u, 3182u, 3177u, 3172u, 3167u, 3162u, 3157u,
 3152u, 3147u, 3142u, 3137u, 3132u, 3127u, 3122u, 3117u, 3113u, 3108u, 3103u, 3098u, 3093u, 3088u, 3083u, 3079u, 3074u,
 3069u, 3064u, 3059u, 3055u, 3050u, 3045u, 3040u, 3036u, 3031u, 3026u, 3022u, 3017u, 3012u, 3007u, 3003u, 2998u, 2993u,
 2989u, 2984u, 2979u, 2975u, 2970u, 2966u, 2961u, 2956u, 2952u, 2947u, 2943u, 2938u, 2934u, 2929u, 2924u, 2920u, 2915u,
 2911u, 2906u, 2902u, 2897u, 2893u, 2888u, 2884u, 2879u, 2875u, 2871u, 2866u, 2862u, 2857u, 2853u, 2849u, 2844u, 2840u,
 2835u, 2831u, 2827u, 2822u, 2818u, 2814u, 2809u, 2805u, 2801u, 2796u, 2792u, 2788u, 2783u, 2779u, 2775u, 2771u, 2766u,
 2762u, 2758u, 2754u, 2749u, 2745u, 2741u, 2737u, 2733u, 2728u, 2724u, 2720u, 2716u, 2712u, 2708u, 2703u, 2699u, 2695u,
 2691u, 2687u, 2683u, 2679u, 2675u, 2671u, 2666u, 2662u, 2658u, 2654u, 2650u, 2646u, 2642u, 2638u, 2634u, 2630u, 2626u,
 2622u, 2618u, 2614u, 2610u, 2606u, 2602u, 2598u, 2594u, 2590u, 2586u, 2582u, 2579u, 2575u, 2571u, 2567u, 2563u, 2559u,
 2555u, 2551u, 2547u, 2544u, 2540u, 2536u, 2532u, 2528u, 2524u, 2521u, 2517u, 2513u, 2509u, 2505u, 2502u, 2498u, 2494u,
 2490u, 2487u, 2483u, 2479u, 2475u, 2472u, 2468u, 2464u, 2460u, 2457u, 2453u, 2449u, 2446u, 2442u, 2438u, 2435u, 2431u,
 2427u, 2424u, 2420u, 2416u, 2413u, 2409u, 2405u, 2402u, 2398u, 2395u, 2391u, 2387u, 2384u, 2380u, 2377u, 2373u, 2370u,
 2366u, 2363u, 2359u, 2356u, 2352u, 2348u, 2345u, 2341u, 2338u, 2334u, 2331u, 2328u, 2324u, 2321u, 2317u, 2314u, 2310u,
 2307u, 2303u, 2300u, 2296u, 2293u, 2290u, 2286u, 2283u, 2279u, 2276u, 2273u, 2269u, 2266u, 2263u, 2259u, 2256u, 2252u,
 2249u, 2246u, 2242u, 2239u, 2236u, 2232u, 2229u, 2226u, 2223u, 2219u, 2216u, 2213u, 2209u, 2206u, 2203u, 2200u, 2196u,
 2193u, 2190u, 2187u, 2183u, 2180u, 2177u, 2174u, 2171u, 2167u, 2164u, 2161u, 2158u, 2155u, 2151u, 2148u, 2145u, 2142u,
 2139u, 2136u, 2133u, 2129u, 2126u, 2123u, 2120u, 2117u, 2114u, 2111u, 2108u, 2104u, 2101u, 2098u, 2095u, 2092u, 2089u,
 2086u, 2083u, 2080u, 2077u, 2074u, 2071u, 2068u, 2065u, 2062u, 2059u, 2056u, 2053u, 2050u, 2047u, 2044u, 2041u, 2038u,
 2035u, 2032u, 2029u, 2026u, 2023u, 2020u, 2017u, 2014u, 2011u, 2008u, 2005u, 2002u, 1999u, 1997u, 1994u, 1991u, 1988u,
 1985u, 1982u, 1979u, 1976u, 1973u, 1971u, 1968u, 1965u, 1962u, 1959u, 1956u, 1954u, 1951u, 1948u, 1945u, 1942u, 1939u,
 1937u, 1934u, 1931u, 1928u, 1925u, 1923u, 1920u, 1917u, 1914u, 1912u, 1909u, 1906u, 1903u, 1901u, 1898u, 1895u, 1892u,
 1890u, 1887u, 1884u, 1881u, 1879u, 1876u, 1873u, 1871u, 1868u, 1865u, 1863u, 1860u, 1857u, 1855u, 1852u, 1849u, 1847u,
 1844u, 1841u, 1839u, 1836u, 1833u, 1831u, 1828u, 1826u, 1823u, 1820u, 1818u, 1815u, 1812u, 1810u, 1807u, 1805u, 1802u,
 1800u, 1797u, 1794u, 1792u, 1789u, 1787u, 1784u, 1782u, 1779u, 1777u, 1774u, 1772u, 1769u, 1766u, 1764u, 1761u, 1759u,
 1756u, 1754u, 1751u, 1749u, 1746u, 1744u, 1741u, 1739u, 1737u, 1734u, 1732u, 1729u, 1727u, 1724u, 1722u, 1719u, 1717u,
 1714u, 1712u, 1710u, 1707u, 1705u, 1702u, 1700u, 1698u, 1695u, 1693u, 1690u, 1688u, 1686u, 1683u, 1681u, 1678u, 1676u,
 1674u, 1671u, 1669u };


    #if (Thermistor_IMPLEMENTATION == Thermistor_EQUATION_METHOD)

        float32 stEqn;
        float32 logrT;

        /* Calculate thermistor resistance from the voltages */
        #if(!CY_PSOC3)
            logrT = (float32)log((float64)resT);
        #else
            logrT = log((float32)resT);
        #endif  /* (!CY_PSOC3) */

        /* Calculate temperature from the resistance of thermistor using Steinhart-Hart Equation */
        #if(!CY_PSOC3)
            stEqn = (float32)(Thermistor_THA + (Thermistor_THB * logrT) + 
                             (Thermistor_THC * pow((float64)logrT, (float32)3)));
        #else
            stEqn = (float32)(Thermistor_THA + (Thermistor_THB * logrT) + 
                             (Thermistor_THC * pow(logrT, (float32)3)));
        #endif  /* (!CY_PSOC3) */

        tempTR = (int16)((float32)((((1.0 / stEqn) - Thermistor_K2C) * (float32)Thermistor_SCALE) + 0.5));

    #else /* Thermistor_IMPLEMENTATION == Thermistor_LUT_METHOD */

        uint16 mid;
        uint16 first = 0u;
        uint16 last = Thermistor_LUT_SIZE - 1u;

        /* Calculate temperature from the resistance of thermistor by using the LUT */
        while (first < last)
        {
            mid = (first + last) >> 1u;

            if ((0u == mid) || ((Thermistor_LUT_SIZE - 1u) == mid) || (resT == Thermistor_LUT[mid]))
            {
                last = mid;
                break;
            }
            else if (Thermistor_LUT[mid] > resT)
            {
                first = mid + 1u;
            }
            else /* (Thermistor_LUT[mid] < resT) */
            {
                last = mid - 1u;
            }
        }

        /* Calculation the closest entry in the LUT */
        if ((Thermistor_LUT[last] > resT) && (last < (Thermistor_LUT_SIZE - 1u)) &&
           ((Thermistor_LUT[last] - resT) > (resT - Thermistor_LUT[last + 1u])))
        {
            last++;
        }
        else if ((Thermistor_LUT[last] < resT) && (last > 0u) &&
                ((Thermistor_LUT[last - 1u] - resT) < (resT - Thermistor_LUT[last])))
        {
            last--;
        }
        else
        {
            /* Closest entry in the LUT already found */
        }

        tempTR = Thermistor_MIN_TEMP + (int16)((uint16)(last * Thermistor_ACCURACY));

    #endif /* (Thermistor_IMPLEMENTATION == Thermistor_EQUATION_METHOD) */

    return (tempTR);
}


/* [] END OF FILE */
